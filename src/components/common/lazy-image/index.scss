.lazy-image {
    position: relative;
    width: 100%;
    height: 100%;
    max-width: 100%;
    overflow: hidden;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;

    &--skeleton {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        z-index: 1;

        .skeleton--shimmer {
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                rgba(179, 179, 179, 0) 0%,
                rgba(243, 243, 243, 0.2) 20%,
                rgba(255, 255, 255, 0.5) 60%,
                rgba(217, 217, 217, 0)
            );
            animation: shimmer 2s infinite;
        }
    }

    &--img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity 0.3s ease-in-out;

        &.hidden {
            opacity: 0;
        }

        &.visible {
            opacity: 1;
            z-index: 2;
        }
    }

    &--error {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: #f5f5f5;
        color: #999;
        z-index: 2;

        svg {
            margin-bottom: 8px;
        }

        span {
            font-size: 12px;
        }
    }

    &.loading {
        .lazy-image--img {
            opacity: 0;
        }
    }

    &.loaded {
        .lazy-image--skeleton {
            display: none;
        }
    }
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}
